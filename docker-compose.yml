version: '3.8'

services:
  spotibot:
    # CONSTRUCCIÓN AUTOMÁTICA DESDE GITHUB
    # Docker descargará el Dockerfile de tu repo y construirá la imagen.
    build: https://github.com/glmbxecurity/ultimate-spotibot.git#main
    
    container_name: ultimate-spotibot
    restart: unless-stopped
    
    # --- TUS CREDENCIALES (RELLENAR AQUÍ) ---
    environment:
      - TELEGRAM_TOKEN=PON_AQUI_TU_TOKEN
      - SPOTIPY_CLIENT_ID=PON_AQUI_TU_CLIENT_ID
      - SPOTIPY_CLIENT_SECRET=PON_AQUI_TU_SECRET
      - SPOTIPY_REDIRECT_URI=http://127.0.0.1:8888/callback
      # IDs de usuario separados por comas (sin espacios)
      - AUTHORIZED_USER_IDS=123456789,987654321
    
    # --- PERSISTENCIA DE DATOS ---
    volumes:
      # Crea una carpeta llamada 'data' junto a este archivo
      # y mete dentro tu 'playlists.txt'
      - ./data:/data
    
    # Necesario para poder interactuar con la consola en el primer login
    stdin_open: true 
    tty: true
